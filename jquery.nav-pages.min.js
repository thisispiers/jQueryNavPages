!function($){$.fn.navPages=function(t,a){var e=this.settings={pages:$(this),parent:$(this).parent(),animation:{},startPage:0,backSelector:".nav-page-back"},n=typeof t;"string"===n?(e.parent=$(this),e.pages=$(t,e.parent),"number"==typeof a?e.startPage=a:"object"==typeof a&&$.extend(e,a)):"object"===n&&$.extend(e,t);var i=this.pageHistory=[];e.parent.data("nav-pages-init")||(e.parent.data("nav-pages-init",!0).wrapInner('<div style="width:100%;height:100%;position:relative;overflow:hidden;"></div>'),e.pages.each(function(t){var a=$(this).index()-e.startPage;1>a&&i.push($(this)),$(this).css({width:"100%",height:"100%",position:"relative","margin-right":"-100%","float":"left",left:100*a+"%"})}),e.parent.trigger("nav-page-init",$(e.parent)));var r={settings:e,goTo:function(t){if(t.target){t.preventDefault();var a=$(this),n=a.data("goto-nav-page"),r=n?n:a.attr("href"),g=$(r)}else if(t)var g=$(t,e.parent);if(g&&1==g.length){i.push(g);var o=i[i.length-2];g.css({left:"100%"}).animate({left:0},e.animation),o.css({left:0}).animate({left:"-100%"},e.animation);var p=[$(g),$(o)];e.parent.trigger("nav-page-nav",p),e.parent.trigger("nav-page-goto",p)}},goBack:function(t){if(t.target&&t.preventDefault(),i.length>1){var a=i[i.length-2],n=i[i.length-1];i.splice(i.length-1,1),a.css({left:"-100%"}).animate({left:0},e.animation),n.css({left:0}).animate({left:"100%"},e.animation);var r=[$(a),$(n)];e.parent.trigger("nav-page-nav",r),e.parent.trigger("nav-page-back",r)}}},g=e.backSelector?", "+e.backSelector:"";return e.parent.delegate("[href^=#][href!=#]:not([data-goback-nav-page]):not("+e.backSelector+"), [data-goto-nav-page]:not([data-goback-nav-page]):not("+e.backSelector+")","click",r.goTo),e.parent.delegate("[data-goback-nav-page]"+g,"click",r.goBack),r}}(jQuery);